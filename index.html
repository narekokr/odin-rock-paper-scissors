<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissors</title>
		</head>
		<body>
			<button id="rock">Rock</button>
			<button id="paper">Paper</button>
			<button id="scissors">Scissors</button>
			<br>
			<div id="results"><p id="p"></p></div>

			<script>
				let me = 0;
				let them = 0;
				const names = ["rock","paper","scissors"];
				const div = document.querySelector('#results');
				const p = document.querySelector('#p');

				const computerPlay = () => names[Math.floor(Math.random()*3)];
				function playRound() {
					const playerSelection = this.id;
					const computerSelection = computerPlay();
					const div1 = document.createElement('p');
					if(playerSelection == 'rock'){
						if(computerSelection == 'scissors') {
							me++;
							div1.textContent = 'You Win! Rock beats Scissors';
						}
						else if(computerSelection == 'paper') {
							them++;
							div1.textContent = "You Lose! Paper beats Rock";
						} else div1.textContent = "Draw";
					}
					if(playerSelection == "paper"){
						if(computerSelection == "rock") {
							me++
							div1.textContent = "You Win! Paper beats Rock";
						}
						else if(computerSelection == "scissors") {
							them++
							div1.textContent = "You Lose! Scissors beats Paper";
						} else div1.textContent = "Draw";
					}
					if(playerSelection == "scissors"){
						if(computerSelection == "paper") {
							me++;
							div1.textContent = "You Win! Scissors beat Paper";
						}
						else if(computerSelection == "rock") {
							them++;
							div1.textContent = "You Lose! Rock beats Scissors";
						} else div1.textContent = "Draw";
					}
					div.appendChild(div1);

					p.textContent = `${me}-${them}`;
					if(me === 5 || them ===5){
						const win = document.createElement('p');
						win.textContent = (me > them) ? 'Congrats! You won.' : 'Congrats! Computer won.';
						div.appendChild(win);
						btns.forEach(btn => btn.removeEventListener('click', playRound));
					}
				}

				const btns = Array.from(document.querySelectorAll('button'));
				btns.forEach(btn => btn.addEventListener('click', playRound));
				</script>
		</body>
		</html>